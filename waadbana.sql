/*انشاء قاعدة البيانات*/
create database waadbana; 

/*الاتصال بالقاعدة*/
use waadbana;

/*انشاء جدول الاطعمة*/
CREATE TABLE menu ( 
    food_id INT PRIMARY KEY,
    food_name VARCHAR(25) NOT NULL,
    category VARCHAR(100) NOT NULL,
    descrip TEXT,
    price DECIMAL(10, 2)
);


   /*انشاء جدول الصور*/
   CREATE TABLE gallery ( 
    image_id INT PRIMARY KEY,
    food_id INT,
    FOREIGN KEY (food_id) REFERENCES menu(food_id)
);


   /*انشاء جدول الطاولات*/
   create table tables (
    table_id INT PRIMARY KEY
   , place varchar(30)
   );



  /*انشاء جدول وسيط للاطعمة و الطاولات*/
   /*ليس له عمل حاليا سوى ربط الجدولين (الاطعمة,الطاولات) ببعض*/
   create table menu_table (
    table_id INT,
    food_id INT,
    PRIMARY KEY (table_id, food_id),
    FOREIGN KEY (food_id) REFERENCES menu(food_id),
    FOREIGN KEY (table_id) REFERENCES tables(table_id)
   );

   /*انشاء جدول للزبون*/
  CREATE TABLE customers (
    customer_id INT PRIMARY KEY,
    customer_name VARCHAR(100) NOT NULL,
    customer_email VARCHAR(100) NOT NULL UNIQUE,
    customer_comment text,
    table_place varchar(50)
);


 /*انشاء جدول الحجوزات*/
   create table Reservation(
     reservation_id INT PRIMARY KEY
   ,customer_id INT
   ,FOREIGN KEY (customer_id) REFERENCES customers(customer_id)
   );
   
    /*انشاء جدول النبذة عن المطعم*/
   create table about ( 
   history_id INT PRIMARY KEY
   , about_us TEXT);


  /*انشاء جدول الصفحة الرئيسية*/
   create table home (
    section_id INT PRIMARY KEY ,
    section_title VARCHAR(30),
    food_id INT,
    table_id INT,
    history_id INT,
    image_id INT,
    reservation_id INT ,
    FOREIGN KEY (food_id) REFERENCES menu(food_id),
    FOREIGN KEY (table_id)REFERENCES Tables(table_id),
    FOREIGN KEY (history_id)REFERENCES about(history_id),
    FOREIGN KEY (image_id)REFERENCES gallery(image_id),
    FOREIGN KEY (reservation_id) REFERENCES reservation(reservation_id)
    );



/*ادخال قيم جدول الاطعمة*/
INSERT INTO menu (food_id, food_name, category, descrip, price) 
VALUES 
(1,"متبل","مقبلات","باذنجان مشوي مع لبن وطحينية",25000),
(2,"حمص","مقبلات","حبوب الحمص مع كمون وليمون وزيت",25000),
(3,"فتة","مقبلات","حبوب الحُمُص، خبز، لبن، طحينية، مكسرات",36000),
(4,"تبولة","مقبلات","برغل، خضار منوعة",32000),
(5,"سلطة خضار","مقبلات","خضار منوعة",29000),
(6,"فتوش","مقبلات","خضار منوعة",25000),
(7,"محمرة","مقبلات","دبس فليفلة، طحينية، بصل، جوز، مطحون الكعك",25000),
(8,"كبة نيئة","مقبلات","لحم غنم، برغل، بهارات منوعة، بصل",25000),
(9,"بطاطس مقلية","مقبلات","بطاطس مقرمشة من الخارج وطرية من الداخل",33000),
(10,"حلقات البصل","مقبلات","حلقات بصل مقلية مع الصوص الذي تريده",30000),
(11,"Gumbo Chicken Soup","مقبلات","تدفئك من الداخل بمكوناتها بسيطة",32000),
(12,"سلطة فواكه","مقبلات","استمتع برحلة لذيذة الى عالم النكهات مع اطيب الفواكه الطازجة",41000),
(13,"منسف وجميد","لحوم","لحم بقري، ارز، مكسرات، لبن",85000),
(14,"لحمة بالصحن","لحوم","لحم، توابل، طماطم وفلفل",105000),
(15,"كبة مقلية","لحوم","كبة مقلية محشية بلحم الغنم والرمان",80000),
(16,"كبة مشوية","لحوم","كبة مشوية محشية بلحم الغنم والمكسرات",95000),
(17,"سمك مشوي","لحوم","سمك بحري طازج مشوي",94000),
(18,"سمك مقلي","لحوم","سمك بحري مقلي",95000),
(19,"سوشي","لحوم","سوشي طازجة مع صوص الصويا",79000),
(20,"قريدس","لحوم","قريدس طازج",85000),
(21,"صفيحة","لحوم","لحم على عجينة",76000),
(22,"لحمة بكرز","لحوم","عصير الكرز المركز، توابل، لحم غنم، مكسرات",95000),
(23,"لحمة الكفتة","لحوم","ألذ واشهى طبق من الكفتة الطازجة",59000),
(24,"Capo Steak","لحوم","الطبق الطازج من ارقى واشهى انواع اللحوم",63000),
(25,"كبسة بالدجاج","دجاج","أرز حبة طويلة، دجاج، صلصة طماطم",65000),
(26,"مندي بالدجاج","دجاج","دجاج، ارز، مكسرات، صلصة طماطم",61000),
(27,"فاهيتا دجاج","دجاج","دجاج طازج، فلفل الوان، بصل، بهارات",54000),
(28,"برغر دجاج","دجاج","خبز، مخلل، خس، طماطم، شريحة دجاج",45000),
(29,"مسخن دجاج فلسطيني","دجاج","خبز، مخلل، خس، طماطم، شريحة دجاج",50000),
(30,"برياني دجاج","دجاج","ارز، دجاج، معجون الطماطم",69000),
(31,"زنجر","دجاج","صمون، دجاج، صوصات منوعة، بطاطا مقلية",45000),
(32,"شيش طاووق","دجاج","دجاج مشوي، فلفل الوان، صوص المايونيز، كاتشاب",55000),
(33,"دجاج مشوي","دجاج","دجاج مشوي، صوصات منوعة، بطاطا مقلية",65000),
(34,"دجاج مقلي","دجاج","دجاج مقلي، بطاطا مقلية، مايونيز/ كاتشاب، خردل",59000),
(35,"شاورما دجاج","دجاج","اشهى طبق شاورما دجاج عربي",30000),
(36,"يبرق","محاشي","ورق عنب محشي بالارز واللحمة مع تبلة مميزة",69000),
(37,"يلنجي","محاشي","ورق عنب محشي بالارز والخضروات مع تبلة مميزة",65000),
(38,"ملفوف محشي","محاشي","ملفوف محشي بالارز واللحمة مع عصير الليمون والكمون",65000),
(39,"جزر محشي","محاشي","جزر محشي بالارز واللحمة مع مرق الجزر",55000),
(40,"كوسا بلبن","محاشي","كوسا محشي بالارز واللحمة مع صوص اللبن والمكسرات",66000),
(41,"محشي بالطماطم","محاشي","كوسا وباذنجان وفلفل محشي بالارز واللحمة مع مرق الطماطم",60000),
(42,"بيتزا بالجبنة","محاشي","لا تفوت طعم الجبن الحقيقي مع ألذ واشهى بيتزا بالجبن",37000),
(43,"Spinach Pies","محاشي","فطائر محشية بالسبانخ الشهية",25000),
(44,"Cheese Toast","محاشي","توست ذهبية محشية بأطيب انواع الجبن",19000),
(45,"تراميسو","حلويات","اصابع البسكويت مع الحليب المكثف المحلى و الجبنة الكريمية ومسحوق الكاكاو",55000),
(46,"ليزي كيك","حلويات","قطع من بسكويت دايجستيف مع الزبدة الذائبة و مسحوق الكاكاو و الحليب المكثف المحلى",29000),
(47,"تشيز كيك","حلويات","جبن كريمي مع جبن نيواشتيل وقشر الليمون والبيض",55000),
(48,"كيك بالليمون","حلويات","بيض وكوب زيت مع حليب بودرة والفانيلا و الطحين و قشر الليمون",50000),
(49,"بقلاوة","حلويات","رقائق العجين مع المكسرات و السمنة",60000),
(50,"نابلسية","حلويات","طحين و سميد ونشاء الذرة مع حليب بودرة و السمنة وتحشى بالقشطة",66000),
(51,"مكارون","حلويات","بياض البيض مع عصير الليمون والسكر و الزبدة و منكهات الطعام",39000),
(52,"شوكولامو","حلويات","بسكويت بالشوكولا,صوص الشوكولا, ايس كريم , بندق",45000),
(53,"دونات","حلويات","اطيب انواع الحلويات تجده امامك",15000),
(54,"عصير الفراولة","مشروبات","عصير الفراولة الطازجة",30000),
(55,"عصير البرتقال","مشروبات","برتقال طازج غني بفيتامين سي",28000),
(56,"عصير الافوكادو","مشروبات","شراب منعش وصحي ولذيذ",35000),
(57,"عصير الكيوي","مشروبات","شراب منعش من الكيوي",28000),
(58,"عصير المانجو","مشروبات","شراب المانجو الطازج",30000),
(59,"عصير البطيخ","مشروبات","شراب منعش من البطيخ",30000),
(60,"عصير الليمون","مشروبات","ليموناضة منعشة",27000),
(61,"عصير الرمان","مشروبات","شراب الرمان المنعش",29000),
(62,"عصير كوكتيل","مشروبات","استمتع بتحربة انتعاش استثنائية مع شراب الكوكتيل",17000),
(63,"Quattro Pasta","باستا","خصم * مزيج مخملي من اربع اجبان ممزوجاً بالطماطم ادونس",32000),
(64,"Vegertarian Pasta","باستا","خصم * خليط ساحر من أشهى الخضروات التي ستجعلك تستمتع في كل قضمة",33000),
(65,"Gluten-Free Pasta","باستا","خصم * طبق مُعد بعناية يجمع بين الطعم اللذيذ والمكونات الصحية",37000)
;


/*ادخال قيم جدول الصور*/
insert into gallery (image_id,food_id) values 
 (1,32),(2,null),(3,5)
,(4,43),(5,null),(6,22)
,(7,25),(8,26),(9,24)
,(10,23),(11,16),(12,15)
,(13,17),(14,18),(15,19)
,(16,31),(17,63),(18,36)
,(19,40),(20,38),(21,28)
,(22,35),(23,4),(24,62)
,(25,59),(26,56),(27,57)
,(28,60),(29,null),(30,58)
,(31,50),(32,49),(33,47)
,(34,47),(35,45),(36,46)
;

/*يتم عرض رقم الصورة و اسم الاكلة من خلال الاستعلام التالي*/
/*SELECT g.image_id, m.food_name
FROM gallery g
JOIN menu m ON g.food_id = m.food_id
ORDER BY g.image_id;*/



   
   /*ادخال قيم جدول الطاولات*/
   insert into tables (table_id,place) 
   values
   (1,"في الداخل"),(2,"في الداخل"),(3,"في الداخل"),
   (4,"في الداخل"),(5,"في الداخل"),(6,"في الداخل"),
   (7,"في الداخل"),(8,"في الداخل"),(9,"في الداخل"),
   (10,"في الداخل"),(11,"الطابق الثاني"),(12,"الطابق الثاني"),
   (13,"الطابق الثاني"),(14,"الطابق الثاني"),(15,"الطابق الثاني"),
   (16,"الطابق الثاني"),(17,"الطابق الثاني"),(18,"الطابق الثاني"),
   (19,"الطابق الثاني"),(20,"الطابق الثاني"),(21,"الطابق الثاني"),
   (22,"الطابق الثاني"),(23,"الطابق الثاني"),(24,"الطابق الثاني"),
   (25,"الطابق الثاني"),(26,"الطابق الثاني"),(27,"الطابق الثاني"),
   (28,"الطابق الثاني"),(29,"الطابق الثاني"),(30,"الطابق الثاني"),
   (31,"في الخارج"),(32,"في الخارج"),(33,"في الخارج"),
   (34,"في الخارج"),(35,"في الخارج"),(36,"في الخارج"),
   (37,"في الخارج")
   ;
   
   /*ادخال قيم جدول النبذة*/
   insert into about (history_id,about_us)
 values (1,"More than 10 years of experiance");
 
   /*ادخال قيم لجدول الصفحة الرئيسية*/
  insert into home (section_id,section_title)
  values (1,"Wana Meal Restaurant");
 